{"version":3,"sources":["StateProvider.js","CheckoutProduct.js","Subtotal.js","Checkout.js","firebase.js","Header.js","Product.js","Home.js","Login.js","axios.js","Payment.js","Order.js","Orders.js","App.js","reportWebVitals.js","reducer.js","index.js"],"names":["StateContext","createContext","StateProvider","reducer","initialState","children","Provider","value","useReducer","useStateValue","useContext","CheckoutProduct","id","title","image","price","rating","dispatch","basket","className","src","alt","Array","fill","map","_","i","onClick","type","Subtotal","history","useHistory","total","renderText","length","decimalScale","displayType","thousandSeparator","prefix","e","push","Checkout","user","email","item","db","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","Header","to","signOut","Product","console","log","Home","Login","useState","setEmail","password","setPassword","onChange","target","preventDefault","signInWithEmailAndPassword","then","catch","error","alert","message","createUserWithEmailAndPassword","instance","axios","create","baseURL","Payment","stripe","useStripe","elements","useElements","succeeded","setSucceeded","porcessing","setPorcessing","setError","disabled","setDisabled","clientSecret","setClientSecret","useEffect","a","method","url","response","data","getClientSecret","handleSubmit","event","comfirmCardPayment","payment_method","card","getElement","CardElement","paymentIntent","collection","doc","uid","set","amount","created","replaceState","onSubmit","empty","Order","order","Orders","orders","setOrders","onSnapshot","snapshot","docs","promise","loadStripe","App","onAuthStateChanged","authUser","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","state","action","index","findIndex","basketItem","newBasket","splice","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8a4301ed.chunk.js","sourcesContent":["import React,{createContext,useContext,useReducer} from\"react\";\nexport const StateContext = createContext();\nexport const StateProvider =({reducer,initialState,children})=>(<StateContext.Provider value={useReducer(reducer,initialState)}>{children}</StateContext.Provider>);\nexport const useStateValue = () => useContext(StateContext);","import React from 'react'\nimport \"./CheckoutProduct.css\"\nimport { useStateValue } from './StateProvider'\nfunction CheckoutProduct({id,title,image,price,rating}) {\n    const [{basket},dispatch]= useStateValue();\n    const removeFromBasket = ()=>{\n        dispatch({\n            type:'REMOVE_FROM_BASKET',\n            id:id,\n        })\n    }\n    return (\n        <div className=\"checkoutProduct\">\n            <img src={image} alt=\"\" className=\"checkoutProduct__img\"/>\n                <div className=\"checkoutProduct__info\">\n                        <p>{title}</p>\n                        <p className=\"checkoutProduct__price\"><small>$</small><strong>{price}</strong></p>\n                    <div className=\"product__rating\">\n                        {\n                            Array(rating).fill().map((_,i)=>(<p>⭐</p>))\n                        }\n                    </div>\n                <button onClick={removeFromBasket} >Remove from Basket</button>\n            </div>\n        </div>\n    )\n}\n\nexport default CheckoutProduct\n","import React from 'react'\nimport CurrencyFormat from\"react-currency-format\";\nimport { useHistory } from 'react-router-dom';\nimport { useStateValue } from './StateProvider';\nimport \"./Subtotal.css\"\nfunction Subtotal() {\n    const history = useHistory();\n    const [{basket,total},dispatch] =useStateValue();\n\n    return (\n        <div className=\"subtotal\">\n            <CurrencyFormat\n            renderText={(value) =>(\n                <>\n                <p> Subtotal({basket?.length} items): <strang>{total}</strang></p>\n                <small className=\"subtotal__gift\">\n                    <input type=\"checkbox\" />This order contains a gift\n                </small>\n                </>\n            )}\n            decimalScale={2}\n            value={0}\n            displayType={\"text\"}\n            thousandSeparator={true}\n            prefix={\"£\"}\n             />\n             <button onClick={e => history.push('/payment')}>Proceed to Checkout</button>\n        </div>\n    )\n}\n\nexport default Subtotal\n","import React from 'react';\nimport \"./Checkout.css\";\nimport CheckoutProduct from './CheckoutProduct';\nimport { useStateValue } from './StateProvider';\nimport Subtotal from './Subtotal';\nfunction Checkout() {\n    const [{user,basket},dispatch]=useStateValue();\n    return (\n        <div className=\"checkout\">\n            <div className=\"checkout__left\">\n                <img className=\"checkout__ad\" src=\"https://www.suricats-consulting.com/wp-content/uploads/2018/04/amazon-ad-platform-logo.png\" alt=\"\" />\n                <h3>Hello, {user?.email} </h3>\n                <h1 className=\"checkout__title\">Your Shopping Basket</h1>\n                {basket.map((item)=>{\n                    return(\n                        <CheckoutProduct id={item.id} title={item.title} image={item.image} price={item.price} rating={item.rating}  />\n                    )\n                })}\n            </div>\n            <div className=\"checkout__right\">\n                <Subtotal />\n            </div>\n        </div>\n    )\n}\n\nexport default Checkout\n","// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nimport firebase from \"firebase\";\nconst firebaseConfig = {\n    apiKey: \"AIzaSyBphqVX_ULNX-THCMcbUNXomdM2sEpKI-Y\",\n    authDomain: \"e-clone-46848.firebaseapp.com\",\n    projectId: \"e-clone-46848\",\n    storageBucket: \"e-clone-46848.appspot.com\",\n    messagingSenderId: \"952652688984\",\n    appId: \"1:952652688984:web:be31d7309d0ab709ec642d\",\n    measurementId: \"G-0CSST9BLZE\"\n  };\n  const firebaseApp =firebase.initializeApp(firebaseConfig);\n  const db =firebaseApp.firestore();\n  const auth =firebase.auth();\n  export {db ,auth};","import React from 'react'\nimport './Header.css'\nimport SearchIcon from '@material-ui/icons/Search';\nimport ShoppingBasketIcon from '@material-ui/icons/ShoppingBasket';\nimport {Link} from 'react-router-dom'\nimport { useStateValue } from './StateProvider';\nimport {auth} from \"./firebase\"\nfunction Header() {\n    const [{basket,user},dispatch]=useStateValue();\n    const handleAuthentication = () =>{\n        if(user){\n            auth.signOut();\n        }\n    }\n    return (\n        <div className=\"header\">\n            <Link to=\"/\">\n                <img src=\"http://pngimg.com/uploads/amazon/amazon_PNG11.png\" className=\"AmazonLogo\"/>\n            </Link>\n            <div className=\"header__search\">\n                <input className=\"header__searchInput\" type=\"text\"/>\n                <SearchIcon className=\"searchIcon\"/>\n            </div>\n            <div className=\"header__nav\">\n                <Link to={!user &&\"/login\"} className=\"link\">\n                    <div onClick={handleAuthentication} className=\"header__navOption\">\n                        <sanp className=\"optionSnap1\">Hello {!user ? 'Guest' : user.email}</sanp>\n                        <sanp className=\"optionSnap2\">{user ? 'Sign Out' : 'Sign In'}</sanp>\n                    </div>\n                </Link>\n                <Link to=\"/orders\" className=\"link\">\n                <div className=\"header__navOption\">\n                    <sanp className=\"optionSnap1\">Returns</sanp>\n                    <sanp className=\"optionSnap2\">&Orders</sanp>\n                </div>\n                </Link>\n                <Link to=\"/\" className=\"link\">\n                <div className=\"header__navOption\">\n                    <sanp className=\"optionSnap1\">Your</sanp>\n                    <sanp className=\"optionSnap2\">Prime</sanp>\n                </div>\n                </Link>\n                <Link to=\"/checkout\" className=\"link\">\n                    <div className=\"header__navBasket\">\n                    <ShoppingBasketIcon className=\"shoppingBasketIcon\" />\n                    <sanp className=\"optionSnap2 basketcount\">{basket?.length}</sanp>\n                    </div>\n                </Link>\n            </div>\n        </div>\n    )\n}\n\nexport default Header\n","import React from 'react'\nimport \"./Product.css\"\nimport { useStateValue } from './StateProvider'\nfunction Product({id,title,image,price,rating}) {\n    const [{basket},dispatch]=useStateValue();\n    console.log('basket',basket)\n    const addToBasket = () =>{\n        dispatch({\n            type:'ADD_TO_BASKET',\n            item:{\n                id:id,\n                title:title,\n                image:image,\n                price:price,\n                rating:rating\n            }\n        })\n    }\n\n    return (\n        <div className=\"product\">\n            <div className=\"product__info\">\n    <p>{title}</p>\n    <p className=\"product__price\"><small>$</small><strong>{price}</strong></p>\n                <div className=\"product__rating\">\n                    {\n                        Array(rating).fill().map((_,i)=>(<p>⭐</p>))\n                    }\n                </div>\n            </div>\n            <img src={image} alt=\"\" className=\"product__img\"/>\n            <button onClick={addToBasket}>Add to Basket</button>\n        </div>\n    )\n}\n\nexport default Product\n\n//\"https://interactive-examples.mdn.mozilla.net/media/cc0-images/grapefruit-slice-332-332.jpg\"","import React from 'react'\nimport \"./Home.css\"\nimport Product from './Product'\nfunction Home() {\n    return (\n        <div className=\"home\">\n            <div className=\"home__container\">\n                <img src=\"https://images-eu.ssl-images-amazon.com/images/G/08/digital/video/gateway/placement/launch/LeSpectacleDeLaMaturite/NORMA_SP_GWBleedingHero_FT_COVIDUPDATE_XSite_1500X600_PV_fr-FR._CB414845370_.jpg\" className=\"home__image\" />\n            </div>\n            <div className=\"home__row\">\n                <Product title=\"Montre Connectée\" image=\"https://firebasestorage.googleapis.com/v0/b/e-clone-46848.appspot.com/o/51EiuQIKL7L._AC_SL1000_.jpg?alt=media&token=ce1aeabc-775a-4d3d-8fd1-cb895b258a5b\" price={29.99} rating={4} />\n                <Product title=\"Victure Caméra de surveillance \" image=\"https://firebasestorage.googleapis.com/v0/b/e-clone-46848.appspot.com/o/51dkzMV9BCL._AC_SL1001_.jpg?alt=media&token=f457479a-3da7-43bb-8695-e2966d5a95c3\" price={28.99} rating={5} />\n                <Product title=\"Apple iPhone 12 \" image=\"https://firebasestorage.googleapis.com/v0/b/e-clone-46848.appspot.com/o/71ZOtNdaZCL._AC_SL1500_.jpg?alt=media&token=e972a557-4e26-44af-8fc3-efaad716431c\" price={1028.99} rating={5} />\n            </div>\n            <div className=\"home__row\">\n                <Product title=\"Nouvel Echo Dot\" image=\"https://firebasestorage.googleapis.com/v0/b/e-clone-46848.appspot.com/o/71Q9d6N7xkL._AC_SL1000_.jpg?alt=media&token=41a8b0ff-aaf0-46d9-8e42-4de7c31756ad\" price={59.99} rating={5} />\n\n            </div>\n            <div className=\"home__row\">\n                <Product title=\"Projecteur LED\" image=\"https://firebasestorage.googleapis.com/v0/b/e-clone-46848.appspot.com/o/71sVyax9ctL._AC_SL1500_.jpg?alt=media&token=6d306875-2788-490b-801d-ebabae19b0d6\" price={49.53} rating={2} />\n                <Product title=\"Tour Multiprise Parasurtenseur\" image=\"https://firebasestorage.googleapis.com/v0/b/e-clone-46848.appspot.com/o/610XvCkLVUL._AC_SL1320_.jpg?alt=media&token=763af076-8e9e-4b99-a3b7-b2b2088e6888\" price={25.96} rating={3} />\n                <Product title=\"Videoprojecteur WiFi\" image=\"https://firebasestorage.googleapis.com/v0/b/e-clone-46848.appspot.com/o/818J5JkWVlL._AC_SL1500_.jpg?alt=media&token=8b797bff-8752-4d00-965b-942a75e5809e\" price={99.55} rating={4} />\n                <Product title=\"Coquimbo\" image=\"https://firebasestorage.googleapis.com/v0/b/e-clone-46848.appspot.com/o/71vaqrGetGL._AC_SL1500_.jpg?alt=media&token=f6829e52-c3da-4456-ba99-478eef2dbfcd\" price={22.61} rating={3} />\n            </div>\n            <div className=\"home__row\">\n                <Product title=\"Mini PC, processeur Intel Core i5-5257U\" image=\"https://firebasestorage.googleapis.com/v0/b/e-clone-46848.appspot.com/o/61y3P5rTA%2BL._AC_SL1300_.jpg?alt=media&token=a0f97f9b-485a-4892-a551-eb69d69ad110\" price={299.93} rating={5} />\n                <Product title=\"ESR Câble USB \" image=\"https://firebasestorage.googleapis.com/v0/b/e-clone-46848.appspot.com/o/61YSduLfteL._AC_SL1000_.jpg?alt=media&token=6a417935-3946-43b9-be1a-65361cf84e53\" price={5.99} rating={3} />\n            </div>\n        </div>\n    )\n}\n\nexport default Home\n","import React, { useState } from 'react'\nimport {Link, useHistory} from 'react-router-dom'\nimport { auth } from './firebase';\nimport \"./Login.css\"\nfunction Login() {\n    const history = useHistory();\n    const [email,setEmail]=useState('');\n    const [password ,setPassword]=useState('');\n    const signIn = e =>{\n        e.preventDefault();\n        auth.signInWithEmailAndPassword(email,password).then((auth)=>{\n            if(auth){\n                history.push('/')\n            }\n        }).catch(error =>alert(error.message))\n    }\n    const register = e =>{\n        e.preventDefault()\n        auth.createUserWithEmailAndPassword(email,password).then((auth)=>{\n            console.log(auth);\n            if(auth){\n                history.push('/')\n            }\n        }).catch(error =>alert(error.message))\n    }\n    return (\n        <div className=\"login\">\n            <Link to=\"/\">\n                <img src=\"https://www.acisolutions.net/wp-content/uploads/2019/09/amazon-logo-vector-png-amazon-logo-vector-512.png\" className=\"AmazonLogoLogin\"/>\n            </Link>\n            <div className='login__container'>\n                <h1>Sign-in</h1>\n                <form>\n                    <h5 className='login__h5'>E-mail</h5>\n                    <input  className=\"login__input\"  type='text' value={email} onChange={e => setEmail(e.target.value)} />\n                    <h5 className='login__h5'>Password</h5>\n                    <input className=\"login__input\" type='password' value={password} onChange={e => setPassword(e.target.value)} />\n                    <button className=\"login__SignIn\" type='submit' onClick={signIn}>Sign In</button>\n                </form>\n                <p className=\"login__text\">By signing-in you agree to the AMAZON FAKE CLONE Conditions of Use & sale.</p>\n                <button className=\"login__register\" onClick={register}>Create your Amazon Account</button>\n            </div>\n        </div>\n    )\n}\n\nexport default Login\n","import axios from \"axios\";\n\nconst instance = axios.create({\n    baseURL: 'http://localhost:5001/cloneamazon/us-central1/api'\n});\n\nexport default instance;","import React, { useEffect, useState } from 'react'\nimport { Link, useHistory } from 'react-router-dom';\nimport CheckoutProduct from './CheckoutProduct';\nimport { useStateValue } from './StateProvider';\nimport './Payment.css'\nimport { CardElement , useStripe ,useElements } from '@stripe/react-stripe-js';\nimport CurrencyFormat from 'react-currency-format';\nimport axios from \"./axios\";\nimport {db} from \"./firebase\"\n\nfunction Payment() {\n    const[{basket,user,total},dispatch]=useStateValue();\n    const stripe=useStripe();\n    const elements=useElements();\n    const history = useHistory();\n    const [succeeded,setSucceeded] =useState(false);\n    const [porcessing,setPorcessing] =useState(\"\");\n    const [error, setError] = useState(null);\n    const [disabled, setDisabled] = useState(true);\n    const [clientSecret, setClientSecret] = useState(true);\n    useEffect(() => {\n        const getClientSecret = async () =>{\n            const response = await axios({\n                method: 'post',\n                url: `/payments/create?total=${total * 100}`\n            });\n            setClientSecret(response.data.clientSecret)\n        }\n        getClientSecret();\n    }, [basket])\n\n    console.log('the sec', clientSecret)\n    const handleSubmit = async (event) =>{\n        event.preventDefault();\n        setPorcessing(true);\n        const payload = await stripe.comfirmCardPayment(clientSecret,{\n            payment_method:{\n                card: elements.getElement(CardElement)\n            }\n        }).then(({paymentIntent}) =>{\n            db.collection('users').doc(user?.uid).collection('orders').set({\n                basket:basket,\n                amount: paymentIntent.amount,\n                created: paymentIntent.created\n            })\n            setSucceeded(true);\n            setError(null);\n            setPorcessing(false);\n            dispatch({type: 'EMPTY_BASKET'})\n            history.replaceState('/orders');\n        })\n    }\n    const handlechange =event =>{\n        setDisabled(event.empty);\n        setError(event.error ? event.error.message : \"\");\n    }\n    return (\n        <div className=\"payment\">\n            <div className=\"payment__container\">\n                <h1>Checkout ({\n                    <Link to=\"/checkout\">{basket?.length} items</Link>\n                    })\n                </h1>\n                <div className=\"payment__section\">\n                    <div className=\"payment__title\">\n                        <h4>{user?.email}</h4>\n                        <h3>Delivery Address</h3>\n                    </div>\n                    <div className=\"payment__adress\">\n                        <input type=\"text\" />\n                    </div>\n                </div>\n                <div className=\"payment__section\">\n                    <div className=\"payment__title\">\n                        <h3>Review Items and delivery</h3>\n                    </div>\n                    <div className='payment__items'>\n                        {basket.map((item)=>{\n                            return(\n                                <CheckoutProduct id={item.id} title={item.title} image={item.image} price={item.price} rating={item.rating}  />\n                            )\n                        })}\n                    </div>\n                </div>\n                <div className=\"payment__section\">\n                    <div className=\"payment__title\">\n                        <h3>Payment Method</h3>\n                    </div>\n                    <div className=\"payment__details\">\n                        <form onSubmit={handleSubmit}>\n                            <CardElement onChange={handlechange} />\n                            <div className='payment__priceContainer'>\n                            <CurrencyFormat\n                                renderText={(value) =>(\n                                <h3>Order Total: {total}$ </h3>\n                                )}\n                                decimalScale={2}\n                                value={0}\n                                displayType={\"text\"}\n                                thousandSeparator={true}\n                                prefix={\"$\"}\n                                />\n                                <button disabled={porcessing ||disabled ||succeeded}><span>\n                                    {porcessing ? <p>Processing</p> : \"Buy Now\"}\n                                    </span></button>\n                            </div>\n\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Payment\n","import React from 'react'\nimport CheckoutProduct from './CheckoutProduct'\nimport './Order.css'\nfunction Order(order) {\n    return (\n        <div className=\"order\">\n            <h2>Order</h2>\n            <p>{order.id}</p>\n            {order.data.basket?.map(item=>{\n                <CheckoutProduct \n                id={item.id} \n                title={item.title} \n                image={item.image} \n                price={item.price}\n                rating={item.rating}\n                 />\n            })}\n        </div>\n    )\n}\n\nexport default Order\n","\nimport React, { useEffect, useState } from 'react'\nimport { db } from './firebase'\nimport Order from './Order';\nimport { useStateValue } from './StateProvider'\nimport './Orders.css'\nfunction Orders() {\n    const [{basket,user},dispatch]= useStateValue();\n    const [orders,setOrders]= useState([]);\n    useEffect(() => {\n        if(user){\n            db.collection(user?.uid).collection('orders').onSnapshot(snapshot=>{\n                setOrders(snapshot.docs.map(doc=>({\n                    id: doc.id,\n                    data:doc.data()\n                })))\n            })\n        }else{\n            setOrders([])\n        }\n    }, [user])\n    return (\n        <div className='orders'>\n            <h1>Your Orders</h1>\n            <div className='orders__order'>\n                {orders?.map(order=>(\n                    <Order order={order} />\n                ))}\n            </div>\n        </div>\n    )\n}\n\nexport default Orders\n","import { useEffect } from 'react';\nimport { BrowserRouter as Router, Switch , Route} from 'react-router-dom';\nimport './App.css';\nimport Checkout from './Checkout';\nimport { auth } from './firebase';\nimport Header from './Header';\nimport Home from './Home';\nimport Login from './Login';\nimport Payment from './Payment';\nimport { useStateValue } from './StateProvider';\nimport { loadStripe} from \"@stripe/stripe-js\";\nimport {Elements} from \"@stripe/react-stripe-js\";\nimport Orders from './Orders';\n\nconst promise= loadStripe(\"pk_test_51I71vTDsDJ47JDKBhbzXlGeNgj0dP6j4PrDqXsDLxmH6oNIbnUpUSpWNIgwIomba7Eeao6RFBXMG8MaPMlIbLCgM00r61hW1aD\");\n\nfunction App() {\n  const [{user},dispatch] =useStateValue();\n  useEffect(() => {\nauth.onAuthStateChanged(authUser=>{\n  if(authUser) {\n    dispatch({type:'SET_USER',\n    user:authUser\n  })\n  }else{\n    dispatch({type:'SET_USER',\n    user:null\n  })\n  }\n})\n  }, [])\n  return (\n    \n      <Router>\n        <div className=\"App\">\n          <Switch>\n          <Route path=\"/orders\">\n            <Header />\n            <Orders />\n            </Route>\n          <Route path=\"/login\">\n            <Login />\n            </Route>\n            <Route path=\"/checkout\">\n            <Header />\n            <Checkout />\n            </Route>\n            <Route path=\"/payment\">\n              <Header />\n              <Elements stripe={promise}>\n              <Payment />\n              </Elements>\n            </Route>\n            <Route path=\"/\">\n            <Header />\n              <Home />\n            </Route>\n          </Switch>\n        </div>\n      </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","export const initialState ={\n    basket:[],\n    total: 0,\n    user:null\n};\nconst reducer = (state,action) =>{\n    switch(action.type){\n        case 'ADD_TO_BASKET':\n            return {\n                ...state,\n                basket:[...state.basket, action.item],\n                total: state.total+action.item.price\n            };\n        case \"EMPTY_BASKET\":\n            return{\n                ...state,\n                basket:[]\n            }\n        case 'REMOVE_FROM_BASKET':\n            const index =state.basket.findIndex(\n                (basketItem)=> basketItem.id ===action.id\n            );\n            let newBasket =[...state.basket];\n            if(index >=0){\n                newBasket.splice(index,1);\n            }else {\n                console.log('no such id')\n            }\n            return{\n                ...state,\n                basket: newBasket\n            }\n        case 'SET_USER':\n            return {\n                    ...state,\n                    user: action.user\n            };\n        default:\n            return state;\n    }\n};\nexport default reducer;     ","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { StateProvider } from './StateProvider';\nimport reducer, { initialState } from './reducer';\n\nReactDOM.render(\n  <React.StrictMode>\n    <StateProvider initialState={initialState} reducer={reducer}>\n      <App />\n    </StateProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}