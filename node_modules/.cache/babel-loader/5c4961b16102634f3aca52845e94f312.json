{"ast":null,"code":"import _slicedToArray from\"/home/iheb/Desktop/amazon-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useEffect,useState}from'react';import{db}from'./firebase';import Order from'./Order';import{useStateValue}from'./StateProvider';import'./Orders.css';function Orders(){var _useStateValue=useStateValue(),_useStateValue2=_slicedToArray(_useStateValue,2),_useStateValue2$=_useStateValue2[0],basket=_useStateValue2$.basket,user=_useStateValue2$.user,dispatch=_useStateValue2[1];var _useState=useState([]),_useState2=_slicedToArray(_useState,2),orders=_useState2[0],setOrders=_useState2[1];useEffect(function(){if(user){db.collection(user===null||user===void 0?void 0:user.uid).collection('orders').onSnapshot(function(snapshot){setOrders(snapshot.docs.map(function(doc){return{id:doc.id,data:doc.data()};}));});}else{setOrders([]);}},[user]);return/*#__PURE__*/_jsxs(\"div\",{className:\"orders\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Your Orders\"}),/*#__PURE__*/_jsx(\"div\",{className:\"orders__order\",children:orders===null||orders===void 0?void 0:orders.map(function(order){return/*#__PURE__*/_jsx(Order,{order:order});})})]});}export default Orders;","map":{"version":3,"sources":["/home/iheb/Desktop/amazon-clone/src/Orders.js"],"names":["React","useEffect","useState","db","Order","useStateValue","Orders","basket","user","dispatch","orders","setOrders","collection","uid","onSnapshot","snapshot","docs","map","doc","id","data","order"],"mappings":"8OACA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,EAAT,KAAmB,YAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CACA,OAASC,aAAT,KAA8B,iBAA9B,CACA,MAAO,cAAP,CACA,QAASC,CAAAA,MAAT,EAAkB,oBACkBD,aAAa,EAD/B,sFACNE,MADM,kBACNA,MADM,CACCC,IADD,kBACCA,IADD,CACOC,QADP,kCAEYP,QAAQ,CAAC,EAAD,CAFpB,wCAEPQ,MAFO,eAEAC,SAFA,eAGdV,SAAS,CAAC,UAAM,CACZ,GAAGO,IAAH,CAAQ,CACJL,EAAE,CAACS,UAAH,CAAcJ,IAAd,SAAcA,IAAd,iBAAcA,IAAI,CAAEK,GAApB,EAAyBD,UAAzB,CAAoC,QAApC,EAA8CE,UAA9C,CAAyD,SAAAC,QAAQ,CAAE,CAC/DJ,SAAS,CAACI,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkB,SAAAC,GAAG,QAAG,CAC9BC,EAAE,CAAED,GAAG,CAACC,EADsB,CAE9BC,IAAI,CAACF,GAAG,CAACE,IAAJ,EAFyB,CAAH,EAArB,CAAD,CAAT,CAIH,CALD,EAMH,CAPD,IAOK,CACDT,SAAS,CAAC,EAAD,CAAT,CACH,CACJ,CAXQ,CAWN,CAACH,IAAD,CAXM,CAAT,CAYA,mBACI,aAAK,SAAS,CAAC,QAAf,wBACI,mCADJ,cAEI,YAAK,SAAS,CAAC,eAAf,UACKE,MADL,SACKA,MADL,iBACKA,MAAM,CAAEO,GAAR,CAAY,SAAAI,KAAK,qBACd,KAAC,KAAD,EAAO,KAAK,CAAEA,KAAd,EADc,EAAjB,CADL,EAFJ,GADJ,CAUH,CAED,cAAef,CAAAA,MAAf","sourcesContent":["\nimport React, { useEffect, useState } from 'react'\nimport { db } from './firebase'\nimport Order from './Order';\nimport { useStateValue } from './StateProvider'\nimport './Orders.css'\nfunction Orders() {\n    const [{basket,user},dispatch]= useStateValue();\n    const [orders,setOrders]= useState([]);\n    useEffect(() => {\n        if(user){\n            db.collection(user?.uid).collection('orders').onSnapshot(snapshot=>{\n                setOrders(snapshot.docs.map(doc=>({\n                    id: doc.id,\n                    data:doc.data()\n                })))\n            })\n        }else{\n            setOrders([])\n        }\n    }, [user])\n    return (\n        <div className='orders'>\n            <h1>Your Orders</h1>\n            <div className='orders__order'>\n                {orders?.map(order=>(\n                    <Order order={order} />\n                ))}\n            </div>\n        </div>\n    )\n}\n\nexport default Orders\n"]},"metadata":{},"sourceType":"module"}